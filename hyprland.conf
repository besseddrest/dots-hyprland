# https://wiki.hyprland.org/Configuring/

# You can split this configuration into multiple files
# Create your files separately and then link them to this file like this:
# source = ~/.config/hypr/myColors.conf

debug {
    disable_logs = false
    # overlay = true
}

##################
# ROSE PINE MOON #
##################

# from rosepinetheme.com, renamed for clarity
# numbered colors are dark => light

$rpm_grey_01    = rgb(232136)
$rpm_grey_02    = rgb(2a273f)
$rpm_grey_03    = rgb(393552)
$rpm_grey_04    = rgb(6e6a86)
$rpm_grey_05    = rgb(908caa)
$rpm_white      = rgb(e0def4)
$rpm_love       = rgb(eb6f92)
$rpm_gold       = rgb(f6c177)
$rpm_rose       = rgb(ea9a97)
$rpm_pine       = rgb(3e8fb0)
$rpm_foam       = rgb(9ccfd8) # light blue
$rpm_iris       = rgb(c4a7e7) # lavender

##################
### WALLPAPERS ###
##################
$swww_opts = --transition-step=60 --transition-duration=1 --transition-type=wipe --transition-fps=60

$wallpaperPath = ~/Pictures/Wallpapers
$wallpaper1 = $wallpaperPath/purple_002.png
$wallpaper2 = $wallpaperPath/bestagons_002.jpg
$wallpaper3 = $wallpaperPath/dots_002.jpg
$wallpaper4 = $wallpaperPath/squares_001.jpg
$wallpaper5 = $wallpaperPath/neon_001.jpg
$wallpaper6 = $wallpaperPath/abstract_002.jpg

bind = , F1, exec, swww img $wallpaper1 $swww_opts
bind = , F2, exec, swww img $wallpaper2 $swww_opts
bind = , F3, exec, swww img $wallpaper3 $swww_opts
bind = , F4, exec, swww img $wallpaper4 $swww_opts
bind = , F5, exec, swww img $wallpaper5 $swww_opts
bind = , F6, exec, swww img $wallpaper6 $swww_opts

################
### MONITORS ###
################

# Note: Single monitor setup
# Dell U4320Q - 43" 16:9
# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=DP-2,3840x2160@60.00,auto,1

###################
### MY PROGRAMS ###
###################

# See https://wiki.hyprland.org/Configuring/Keywords/
# sets global var as well as start the application

$terminal = uwsm app -- ghostty
$fileManager = uwsm app -- nautilus
$menu = uwsm app -- wofi --show drun
$hpanel = uwsm app -- hyprpanel


exec-once = pypr &
exec-once = swww-daemon
exec-once = swww img $wallpaper1 $swww_opts
exec-once = $hpanel

#####################
### LOOK AND FEEL ###
#####################

general {
    gaps_in = 25
    gaps_out = 50
    border_size = 2
    col.active_border = $rpm_foam $rpm_grey_04 $rpm_grey_04 $rpm_foam
    col.inactive_border = rgb(24273A) rgb(24273A) rgb(24273A) rgb(27273A)
    resize_on_border = true
    allow_tearing = false
    layout = master
}

decoration {
    rounding = 10
    rounding_power = 2
    active_opacity = 1.0
    inactive_opacity = 0.75
    dim_inactive = false
    dim_strength = 0.3
    dim_special = 0.75

    shadow {
        enabled = true
        range = 15
        # sharp = true
        render_power = 3
        color = rgba(1a1a1aee)
        # offset = 5 5
    }

    blur {
        enabled = true
        size = 6
        passes = 3
        vibrancy = 0.2
        vibrancy_darkness = 0.3
        brightness = 0.75
        xray = true
    }
}

animations {
    enabled = yes, please :)

    bezier = easeOutQuint,0.23,1,0.32,1
    bezier = easeInOutCubic,0.65,0.05,0.36,1
    bezier = linear,0,0,1,1
    bezier = linearBorder,1,1,1,1
    bezier = almostLinear,0.5,0.5,0.75,1.0
    bezier = quick,0.15,0,0.1,1
    bezier = easeOutBack,0.175,0.885,0.32,1.275
    bezier = easeInSine,0.12,0,0.39,0
    bezier = easeOutExpo,0.19,1,0.22,1

    animation = global, 1, 10, default
    animation = border, 1, 5.39, easeOutQuint
    animation = windows, 1, 7, easeOutExpo, gnomed
    animation = windowsIn, 1, 8, easeOutExpo, slide
    animation = windowsOut, 1, 5, easeOutExpo, popin
    animation = windowsMove, 1, 6, easeOutExpo, slide
    # animation = fadeIn, 1, 1.73, almostLinear
    # animation = fadeOut, 1, 1.46, almostLinear
    animation = fade, 1, 2, quick
    animation = layers, 1, 5, easeOutExpo, gnomed
    # animation = layersIn, 1, 4, easeOutQuint, fade
    # animation = layersOut, 1, 3, easeOutExpo
    # animation = fadeLayersIn, 1, 1.79, almostLinear
    animation = fadeLayersOut, 1, 1.39, almostLinear
    animation = workspaces, 1, 1.94, almostLinear, slide
    animation = workspacesIn, 1, 1.21, almostLinear, slide
    animation = workspacesOut, 1, 1.94, almostLinear, slide
    animation = specialWorkspaceIn, 1, 5, easeOutExpo, slidevert
    animation = specialWorkspaceOut, 1, 3.75, easeOutExpo, slidevert
    animation = border, 1, 6, linearBorder
    # Note: borderangle is expensive
    animation = borderangle,1, 25, linearBorder, loop
}

dwindle {
    pseudotile = true
    preserve_split = true # You probably want this
}

master {
    new_status = slave
    orientation = right
    always_keep_position = true
    slave_count_for_center_master = 0
    new_on_top = false
    center_master_slaves_on_right = false
    mfact = 0.5
}

misc {
    force_default_wallpaper = 1
    disable_hyprland_logo = true
}


#############
### INPUT ###
#############

input {
    kb_layout = us
    kb_variant =
    kb_model = hhk
    kb_options =
    kb_rules =
    follow_mouse = 2
    float_switch_override_focus = 0
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

gestures {
    workspace_swipe = false
}

device {
        name = logitech-mx-ergo-1
        natural_scroll = true
}

###################
### KEYBINDINGS ###
###################

$mainMod = SUPER # Sets "Windows" key as main modifier

# Timeshift
# bindel = $mainMod SHIFT, T, exec, ~/.config/hypr/scripts/timeshift.sh

bind = $mainMod, W, killactive
bind = $mainMod CTRL, Q, exec, uwsm app -- wlogout
bind = $mainMod, E, exec, pypr expose
bind = $mainMod, F, exec, ~/.config/hypr/scripts/floatr.sh
bind = $mainMod, SPACE, exec, $menu
bind = $mainMod, D, tagwindow, nodim
# bind = $mainMod, P, pseudo, # dwindle
# bind = $mainMod, J, togglesplit, # dwindle
# bind = CTRL ALT, P, exec, ghostty +reload_config


# `layout_center` is a momentary Pyprland feature, not Hyprland layout option
bind = $mainMod, C, exec, pypr layout_center toggle
bind = $mainMod CTRL, left, exec, pypr layout_center prev
bind = $mainMod CTRL, right, exec, pypr layout_center next

# Move focus with mainMod + arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# resize window
# acts weird with middle window in horizontal 3-up
bind = ALT, up, resizeactive, 0 -25
bind = ALT, right, resizeactive, 25 0
bind = ALT, down, resizeactive, 0 25
bind = ALT, left, resizeactive, -25 0

# swaps position with adjacent window, or moves floated window
bind = $mainMod SHIFT, left, movewindow, l
bind = $mainMod SHIFT, right, movewindow, r
bind = $mainMod SHIFT, up, movewindow, u
bind = $mainMod SHIFT, down, movewindow, d

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

#########################
## MASTER LAYOUT BINDS ##
#########################

bind = $mainMod, R, layoutmsg, rollnext

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
# bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
# bindel = ,XF86MonBrightnessUp, exec, brightnessctl s 10%+
# bindel = ,XF86MonBrightnessDown, exec, brightnessctl s 10%-

# Requires playerctl
# bindl = , XF86AudioNext, exec, playerctl next
# bindl = , XF86AudioPause, exec, playerctl play-pause
# bindl = , XF86AudioPlay, exec, playerctl play-pause
# bindl = , XF86AudioPrev, exec, playerctl previous

##################
### WORKSPACES ###
##################
workspace = 1, name:TOP, monitor:DP-2, layoutopt:orientation:top
workspace = 2, name:SPLIT, monitor:DP-2, layoutopt:orientation:right
workspace = 3, name:CTR, monitor:DP-2, layoutopt:orientation:center
workspace = special:exposed,gapsout:60,gapsin:30,bordersize:5,border:true,shadow:false
# workspace = [true], monitor:DP-2, gapsin:25, gapsout:200, layoutopt:orientation:right
# workspace = 5, name:FOSHOCUS, monitor:DP-2, layoutopt:orientation:center

# Switch workspaces with mainMod + [0-9]
# Note: a second keypress will reset the proportions, me no likey
bind = $mainMod, 1, workspace, 1                    # top
bind = $mainMod, 1, layoutmsg, mfact exact 0.57
bind = $mainMod, 2, workspace, 2                    # right
bind = $mainMod, 2, layoutmsg, mfact exact 0.6
bind = $mainMod, 3, workspace, 3                    # center
bind = $mainMod, 3, layoutmsg, mfact exact 0.5

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3

# Example special workspace (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspacesilent, special:magic




##########################
## AUTOSTART WORKSPACES ##
##########################
# exec-once = [workspace 1] ghostty
# exec-once = [workspace 2 silent] firefox &
# exec-once = [workspace 2 silent] mpv &
# exec-once = [workspace 2 silent] ghostty &
# exec-once = [workspace 2 silent] btop &

# Example windowrule
# windowrule = float,class:^(kitty)$,title:^(kitty)$

# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# Custom
windowrule = opacity .9,class:^(firefox)$ # don't dim video player
windowrule = nodim,class:^(mpv)$ # don't dim video player
windowrule = nodim,tag: nodim
windowrule = nodim,class:zen, title:Picture-in-Picture
windowrule = nodim,class:firefox, title:Picture-in-Picture
# windowrule = maxsize 1000 1000, class:^(firefox)$
# windowrule = size 10 50%, class:^(com.mitchellh.ghostty)$, tag: floatcenter, floating: 1

# Saving this idea for later
################
### FOSHOCUS ###
################
# windowrule = float, onworkspace:5
# windowrule = size 1920 1080, onworkspace:5
# bind = $mainMod SHIFT, L, exec, movefocus, r
# bind = $mainMod SHIFT, H, exec, movefocus, l
